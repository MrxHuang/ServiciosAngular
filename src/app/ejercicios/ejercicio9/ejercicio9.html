<section class="mx-auto max-w-md p-4">
  <h1 class="text-2xl font-semibold">Ejercicio 9: Contraseñas seguras</h1>
  <p class="mt-2 text-neutral-700">Configura las opciones y genera una contraseña. También puedes validarla.</p>

  <form class="mt-4 grid grid-cols-1 gap-3" (submit)="$event.preventDefault(); generar()">
    <label class="flex items-center justify-between">
      <span class="text-sm text-gray-600">Longitud</span>
      <input type="number" class="border rounded px-2 py-1 w-24 focus:outline-none focus:ring-2 focus:ring-black" [ngModel]="options().length" (ngModelChange)="setLength($event)" name="len" min="4" max="64" />
    </label>
    <label class="flex items-center gap-2">
      <input type="checkbox" [ngModel]="options().uppercase" (ngModelChange)="setUppercase($event)" name="up" />
      <span>Mayúsculas</span>
    </label>
    <label class="flex items-center gap-2">
      <input type="checkbox" [ngModel]="options().lowercase" (ngModelChange)="setLowercase($event)" name="low" />
      <span>Minúsculas</span>
    </label>
    <label class="flex items-center gap-2">
      <input type="checkbox" [ngModel]="options().numbers" (ngModelChange)="setNumbers($event)" name="num" />
      <span>Números</span>
    </label>
    <label class="flex items-center gap-2">
      <input type="checkbox" [ngModel]="options().symbols" (ngModelChange)="setSymbols($event)" name="sym" />
      <span>Símbolos</span>
    </label>
    <div>
      <button type="submit" class="bg-black text-white rounded px-4 py-2 cursor-pointer transition-colors hover:bg-gray-800">Generar</button>
    </div>
  </form>

  <div class="mt-4 p-4 border rounded-md bg-white">
    <label class="flex flex-col">
      <span class="text-sm text-gray-600">Contraseña</span>
      <input type="text" class="border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-black" [ngModel]="password()" (ngModelChange)="password.set($event)" name="pwd" />
    </label>
    <p class="mt-2">
      <span class="text-sm text-gray-600">Fuerza:</span>
      <strong>{{ strength().score }} / 4</strong>
      — <span *ngIf="validaActual(); else invalida" class="text-green-700">Válida</span>
      <ng-template #invalida><span class="text-red-700">Inválida</span></ng-template>
    </p>
    <ul class="mt-2 list-disc list-inside text-sm text-gray-700">
      <li *ngFor="let w of strength().warnings">{{ w }}</li>
    </ul>
  </div>
  <app-next />
</section>

