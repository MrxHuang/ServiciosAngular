<section class="mx-auto max-w-md p-4">
  <div class="mt-4 space-y-4">
    <div class="grid grid-cols-2 gap-3">
      <label class="flex flex-col">
        <span class="text-sm text-gray-600">Número A</span>
        <input type="number" class="border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-black transition-shadow" [(ngModel)]="numeroA" placeholder="0">
      </label>
      <label class="flex flex-col">
        <span class="text-sm text-gray-600">Número B</span>
        <input type="number" class="border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-black transition-shadow" [(ngModel)]="numeroB" placeholder="0">
      </label>
    </div>

    <div class="flex items-center gap-2 flex-wrap">
      <button class="border rounded px-3 py-1 cursor-pointer transition-colors hover:bg-black text-white" (click)="setOperacion('sumar')" [class.bg-black]="operacion==='sumar'" [class.text-white]="operacion==='sumar'">+</button>
      <button class="border rounded px-3 py-1 cursor-pointer transition-colors hover:bg-black text-white" (click)="setOperacion('restar')" [class.bg-black]="operacion==='restar'" [class.text-white]="operacion==='restar'">-</button>
      <button class="border rounded px-3 py-1 cursor-pointer transition-colors hover:bg-black text-white" (click)="setOperacion('multiplicar')" [class.bg-black]="operacion==='multiplicar'" [class.text-white]="operacion==='multiplicar'">×</button>
      <button class="border rounded px-3 py-1 cursor-pointer transition-colors hover:bg-black text-white" (click)="setOperacion('dividir')" [class.bg-black]="operacion==='dividir'" [class.text-white]="operacion==='dividir'">÷</button>
      <span class="text-sm text-gray-600 ml-2">Operación seleccionada: <strong>{{ operacion }}</strong></span>
    </div>

    <div class="flex items-center gap-2">
      <button class="bg-black text-white rounded px-4 py-2 cursor-pointer transition-colors hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed" (click)="calcular()" [disabled]="!puedeCalcular()">Calcular</button>
      <button class="border rounded px-3 py-2 cursor-pointer transition-colors hover:bg-gray-100" (click)="limpiar()">Limpiar</button>
    </div>

    <div *ngIf="error" class="text-red-600 text-sm">{{ error }}</div>
    <div *ngIf="resultado !== null" class="text-lg">Resultado: <strong>{{ resultado }}</strong></div>
  </div>
  <hr class="my-6">

  <div class="space-y-3">
    <div class="border rounded p-3 text-right text-2xl font-mono bg-white dark:bg-neutral-800">{{ display }}</div>

    <div class="grid grid-cols-4 gap-2 select-none">
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="clearAll()">C</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('0')">0</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDot()">.</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="setOperacionDesdeTecla('dividir')">÷</button>

      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('7')">7</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('8')">8</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('9')">9</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="setOperacionDesdeTecla('multiplicar')">×</button>

      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('4')">4</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('5')">5</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('6')">6</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="setOperacionDesdeTecla('restar')">−</button>

      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('1')">1</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('2')">2</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="appendDigit('3')">3</button>
      <button class="border rounded py-3 text-lg cursor-pointer hover:bg-gray-100" (click)="setOperacionDesdeTecla('sumar')">+</button>
    </div>

    <div class="grid grid-cols-4 gap-2 mt-2">
      <button class="col-span-4 bg-black text-white dark:bg-neutral-100 dark:text-neutral-900 rounded py-3 text-lg cursor-pointer hover:bg-gray-800 dark:hover:bg-neutral-200" (click)="resolverDesdeTecla()">=</button>
    </div>
  </div>
  <app-next />
</section>
